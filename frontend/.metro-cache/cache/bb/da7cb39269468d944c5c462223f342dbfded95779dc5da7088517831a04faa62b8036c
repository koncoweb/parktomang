{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":39,"index":215}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const API_URL = `${BACKEND_URL}/api`;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('authToken');\n        if (token) {\n          const response = await axios.default.get(`${API_URL}/auth/me`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setUser(response.data);\n        }\n      } catch (error) {\n        await AsyncStorage.default.removeItem('authToken');\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('authToken');\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        logout,\n        checkAuth\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":104,"map":[[13,2,24,0,"Object"],[13,8,24,0],[13,9,24,0,"defineProperty"],[13,23,24,0],[13,24,24,0,"exports"],[13,31,24,0],[14,4,24,0,"enumerable"],[14,14,24,0],[15,4,24,0,"get"],[15,7,24,0],[15,18,24,0,"get"],[15,19,24,0],[16,6,24,0],[16,13,24,0,"AuthProvider"],[16,25,24,0],[17,4,24,0],[18,2,24,0],[19,2,75,0,"Object"],[19,8,75,0],[19,9,75,0,"defineProperty"],[19,23,75,0],[19,24,75,0,"exports"],[19,31,75,0],[20,4,75,0,"enumerable"],[20,14,75,0],[21,4,75,0,"get"],[21,7,75,0],[21,18,75,0,"get"],[21,19,75,0],[22,6,75,0],[22,13,75,0,"useAuth"],[22,20,75,0],[23,4,75,0],[24,2,75,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,4,0],[30,6,4,0,"_expoConstants"],[30,20,4,0],[30,23,4,0,"require"],[30,30,4,0],[30,31,4,0,"_dependencyMap"],[30,45,4,0],[31,2,4,0],[31,6,4,0,"Constants"],[31,15,4,0],[31,18,4,0,"_interopDefault"],[31,33,4,0],[31,34,4,0,"_expoConstants"],[31,48,4,0],[32,2,4,39],[32,6,4,39,"_reactJsxDevRuntime"],[32,25,4,39],[32,28,4,39,"require"],[32,35,4,39],[32,36,4,39,"_dependencyMap"],[32,50,4,39],[33,2,6,0],[33,8,6,6,"BACKEND_URL"],[33,19,6,17],[33,22,6,20,"Constants"],[33,31,6,29],[33,32,6,29,"default"],[33,39,6,29],[33,40,6,30,"expoConfig"],[33,50,6,40],[33,52,6,42,"extra"],[33,57,6,47],[33,59,6,49,"EXPO_PUBLIC_BACKEND_URL"],[33,82,6,72],[33,86,6,76,"process"],[33,93,6,83],[33,94,6,84,"env"],[33,97,6,87],[33,98,6,88,"EXPO_PUBLIC_BACKEND_URL"],[33,121,6,111],[33,125,6,115],[33,127,6,117],[34,2,7,0],[34,8,7,6,"API_URL"],[34,15,7,13],[34,18,7,16],[34,21,7,19,"BACKEND_URL"],[34,32,7,30],[34,38,7,36],[35,2,22,0],[35,8,22,6,"AuthContext"],[35,19,22,17],[35,35,22,20],[35,39,22,20,"createContext"],[35,45,22,33],[35,46,22,33,"createContext"],[35,59,22,33],[35,61,22,63,"undefined"],[35,70,22,72],[35,71,22,73],[36,2,24,7],[36,8,24,13,"AuthProvider"],[36,20,24,66],[36,23,24,69,"AuthProvider"],[36,24,24,70],[37,4,24,72,"children"],[38,2,24,81],[38,3,24,82],[38,8,24,87],[39,4,25,2],[39,10,25,8],[39,11,25,9,"user"],[39,15,25,13],[39,17,25,15,"setUser"],[39,24,25,22],[39,25,25,23],[39,28,25,26],[39,32,25,26,"useState"],[39,38,25,34],[39,39,25,34,"useState"],[39,47,25,34],[39,49,25,48],[39,53,25,52],[39,54,25,53],[40,4,26,2],[40,10,26,8],[40,11,26,9,"loading"],[40,18,26,16],[40,20,26,18,"setLoading"],[40,30,26,28],[40,31,26,29],[40,34,26,32],[40,38,26,32,"useState"],[40,44,26,40],[40,45,26,40,"useState"],[40,53,26,40],[40,55,26,41],[40,59,26,45],[40,60,26,46],[41,4,28,2],[41,10,28,8,"checkAuth"],[41,19,28,17],[41,22,28,20],[41,28,28,20,"checkAuth"],[41,29,28,20],[41,34,28,32],[42,6,29,4],[42,10,29,8],[43,8,30,6],[43,14,30,12,"token"],[43,19,30,17],[43,22,30,20],[43,28,30,26,"AsyncStorage"],[43,40,30,38],[43,41,30,38,"default"],[43,48,30,38],[43,49,30,39,"getItem"],[43,56,30,46],[43,57,30,47],[43,68,30,58],[43,69,30,59],[44,8,31,6],[44,12,31,10,"token"],[44,17,31,15],[44,19,31,17],[45,10,32,8],[45,16,32,14,"response"],[45,24,32,22],[45,27,32,25],[45,33,32,31,"axios"],[45,38,32,36],[45,39,32,36,"default"],[45,46,32,36],[45,47,32,37,"get"],[45,50,32,40],[45,51,32,41],[45,54,32,44,"API_URL"],[45,61,32,51],[45,71,32,61],[45,73,32,63],[46,12,33,10,"headers"],[46,19,33,17],[46,21,33,19],[47,14,33,21,"Authorization"],[47,27,33,34],[47,29,33,36],[47,39,33,46,"token"],[47,44,33,51],[48,12,33,54],[49,10,34,8],[49,11,34,9],[49,12,34,10],[50,10,35,8,"setUser"],[50,17,35,15],[50,18,35,16,"response"],[50,26,35,24],[50,27,35,25,"data"],[50,31,35,29],[50,32,35,30],[51,8,36,6],[52,6,37,4],[52,7,37,5],[52,8,37,6],[52,15,37,13,"error"],[52,20,37,18],[52,22,37,20],[53,8,38,6],[53,14,38,12,"AsyncStorage"],[53,26,38,24],[53,27,38,24,"default"],[53,34,38,24],[53,35,38,25,"removeItem"],[53,45,38,35],[53,46,38,36],[53,57,38,47],[53,58,38,48],[54,8,39,6,"setUser"],[54,15,39,13],[54,16,39,14],[54,20,39,18],[54,21,39,19],[55,6,40,4],[55,7,40,5],[55,16,40,14],[56,8,41,6,"setLoading"],[56,18,41,16],[56,19,41,17],[56,24,41,22],[56,25,41,23],[57,6,42,4],[58,4,43,2],[58,5,43,3],[59,4,45,2],[59,8,45,2,"useEffect"],[59,14,45,11],[59,15,45,11,"useEffect"],[59,24,45,11],[59,26,45,12],[59,32,45,18],[60,6,46,4,"checkAuth"],[60,15,46,13],[60,16,46,14],[60,17,46,15],[61,4,47,2],[61,5,47,3],[61,7,47,5],[61,9,47,7],[61,10,47,8],[62,4,49,2],[62,10,49,8,"login"],[62,15,49,13],[62,18,49,16],[62,24,49,16,"login"],[62,25,49,23,"email"],[62,30,49,36],[62,32,49,38,"password"],[62,40,49,54],[62,45,49,59],[63,6,50,4],[63,10,50,8],[64,8,51,6],[64,14,51,12,"response"],[64,22,51,20],[64,25,51,23],[64,31,51,29,"axios"],[64,36,51,34],[64,37,51,34,"default"],[64,44,51,34],[64,45,51,35,"post"],[64,49,51,39],[64,50,51,40],[64,53,51,43,"API_URL"],[64,60,51,50],[64,73,51,63],[64,75,51,65],[65,10,52,8,"email"],[65,15,52,13],[66,10,53,8,"password"],[67,8,54,6],[67,9,54,7],[67,10,54,8],[68,8,55,6],[68,14,55,12],[69,10,55,14,"access_token"],[69,22,55,26],[70,10,55,28,"user"],[70,14,55,32],[70,16,55,34,"userData"],[71,8,55,43],[71,9,55,44],[71,12,55,47,"response"],[71,20,55,55],[71,21,55,56,"data"],[71,25,55,60],[72,8,56,6],[72,14,56,12,"AsyncStorage"],[72,26,56,24],[72,27,56,24,"default"],[72,34,56,24],[72,35,56,25,"setItem"],[72,42,56,32],[72,43,56,33],[72,54,56,44],[72,56,56,46,"access_token"],[72,68,56,58],[72,69,56,59],[73,8,57,6,"setUser"],[73,15,57,13],[73,16,57,14,"userData"],[73,24,57,22],[73,25,57,23],[74,6,58,4],[74,7,58,5],[74,8,58,6],[74,15,58,13,"error"],[74,20,58,23],[74,22,58,25],[75,8,59,6],[75,14,59,12],[75,18,59,16,"Error"],[75,23,59,21],[75,24,59,22,"error"],[75,29,59,27],[75,30,59,28,"response"],[75,38,59,36],[75,40,59,38,"data"],[75,44,59,42],[75,46,59,44,"detail"],[75,52,59,50],[75,56,59,54],[75,70,59,68],[75,71,59,69],[76,6,60,4],[77,4,61,2],[77,5,61,3],[78,4,63,2],[78,10,63,8,"logout"],[78,16,63,14],[78,19,63,17],[78,25,63,17,"logout"],[78,26,63,17],[78,31,63,29],[79,6,64,4],[79,12,64,10,"AsyncStorage"],[79,24,64,22],[79,25,64,22,"default"],[79,32,64,22],[79,33,64,23,"removeItem"],[79,43,64,33],[79,44,64,34],[79,55,64,45],[79,56,64,46],[80,6,65,4,"setUser"],[80,13,65,11],[80,14,65,12],[80,18,65,16],[80,19,65,17],[81,4,66,2],[81,5,66,3],[82,4,68,2],[82,24,69,4],[82,28,69,4,"_reactJsxDevRuntime"],[82,47,69,4],[82,48,69,4,"jsxDEV"],[82,54,69,4],[82,56,69,5,"AuthContext"],[82,67,69,16],[82,68,69,17,"Provider"],[82,76,69,25],[83,6,69,26,"value"],[83,11,69,31],[83,13,69,33],[84,8,69,35,"user"],[84,12,69,39],[85,8,69,41,"loading"],[85,15,69,48],[86,8,69,50,"login"],[86,13,69,55],[87,8,69,57,"logout"],[87,14,69,63],[88,8,69,65,"checkAuth"],[89,6,69,75],[89,7,69,77],[90,6,69,77,"children"],[90,14,69,77],[90,16,70,7,"children"],[91,4,70,15],[92,6,70,15,"fileName"],[92,14,70,15],[92,16,70,15,"_jsxFileName"],[92,28,70,15],[93,6,70,15,"lineNumber"],[93,16,70,15],[94,6,70,15,"columnNumber"],[94,18,70,15],[95,4,70,15],[95,11,71,26],[95,12,71,27],[96,2,73,0],[96,3,73,1],[97,2,75,7],[97,8,75,13,"useAuth"],[97,15,75,20],[97,18,75,23,"useAuth"],[97,19,75,23],[97,24,75,29],[98,4,76,2],[98,10,76,8,"context"],[98,17,76,15],[98,20,76,18],[98,24,76,18,"useContext"],[98,30,76,28],[98,31,76,28,"useContext"],[98,41,76,28],[98,43,76,29,"AuthContext"],[98,54,76,40],[98,55,76,41],[99,4,77,2],[99,8,77,6,"context"],[99,15,77,13],[99,20,77,18,"undefined"],[99,29,77,27],[99,31,77,29],[100,6,78,4],[100,12,78,10],[100,16,78,14,"Error"],[100,21,78,19],[100,22,78,20],[100,67,78,65],[100,68,78,66],[101,4,79,2],[102,4,80,2],[102,11,80,9,"context"],[102,18,80,16],[103,2,81,0],[103,3,81,1],[104,0,81,2],[104,3]],"functionMap":{"names":["<global>","AuthProvider","checkAuth","useEffect$argument_0","login","logout","useAuth"],"mappings":"AAA;qECuB;oBCI;GDe;YEE;GFE;gBGE;GHY;iBIE;GJG;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}