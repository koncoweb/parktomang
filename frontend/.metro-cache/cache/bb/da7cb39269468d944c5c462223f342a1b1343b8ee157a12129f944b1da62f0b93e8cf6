{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/auth.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":117},"end":{"line":9,"column":34,"index":248}}],"key":"OAwOj13pryMi7HegghVkxChHnhI=","exportNames":["*"],"imports":1}},{"name":"../services/settings.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":249},"end":{"line":10,"column":73,"index":322}}],"key":"l52DiK/+XfVBCgvT7uoYSepygT8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesAuthService = require(_dependencyMap[1], \"../services/auth.service\");\n  var _servicesSettingsService = require(_dependencyMap[2], \"../services/settings.service\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      // Initialize Firebase data\n      const initialize = async () => {\n        await (0, _servicesAuthService.seedSuperAdmin)();\n        await (0, _servicesSettingsService.initializeDefaultSettings)();\n      };\n      initialize();\n\n      // Listen to auth state changes\n      const unsubscribe = (0, _servicesAuthService.onAuthChange)(async firebaseUser => {\n        setUser(firebaseUser);\n        if (firebaseUser) {\n          // Get user profile from Firestore\n          const userProfile = await (0, _servicesAuthService.getCurrentUserProfile)(firebaseUser.uid);\n          setProfile(userProfile);\n        } else {\n          setProfile(null);\n        }\n        setLoading(false);\n      });\n      return () => unsubscribe();\n    }, []);\n    const login = async (email, password) => {\n      try {\n        const {\n          user: firebaseUser,\n          profile: userProfile\n        } = await (0, _servicesAuthService.loginUser)(email, password);\n        setUser(firebaseUser);\n        setProfile(userProfile);\n      } catch (error) {\n        throw new Error(error.message);\n      }\n    };\n    const logout = async () => {\n      await (0, _servicesAuthService.logoutUser)();\n      setUser(null);\n      setProfile(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        profile,\n        loading,\n        login,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":92,"map":[[8,2,23,0,"Object"],[8,8,23,0],[8,9,23,0,"defineProperty"],[8,23,23,0],[8,24,23,0,"exports"],[8,31,23,0],[9,4,23,0,"enumerable"],[9,14,23,0],[10,4,23,0,"get"],[10,7,23,0],[10,18,23,0,"get"],[10,19,23,0],[11,6,23,0],[11,13,23,0,"AuthProvider"],[11,25,23,0],[12,4,23,0],[13,2,23,0],[14,2,77,0,"Object"],[14,8,77,0],[14,9,77,0,"defineProperty"],[14,23,77,0],[14,24,77,0,"exports"],[14,31,77,0],[15,4,77,0,"enumerable"],[15,14,77,0],[16,4,77,0,"get"],[16,7,77,0],[16,18,77,0,"get"],[16,19,77,0],[17,6,77,0],[17,13,77,0,"useAuth"],[17,20,77,0],[18,4,77,0],[19,2,77,0],[20,2,1,0],[20,6,1,0,"_react"],[20,12,1,0],[20,15,1,0,"require"],[20,22,1,0],[20,23,1,0,"_dependencyMap"],[20,37,1,0],[21,2,3,0],[21,6,3,0,"_servicesAuthService"],[21,26,3,0],[21,29,3,0,"require"],[21,36,3,0],[21,37,3,0,"_dependencyMap"],[21,51,3,0],[22,2,10,0],[22,6,10,0,"_servicesSettingsService"],[22,30,10,0],[22,33,10,0,"require"],[22,40,10,0],[22,41,10,0,"_dependencyMap"],[22,55,10,0],[23,2,10,73],[23,6,10,73,"_reactJsxDevRuntime"],[23,25,10,73],[23,28,10,73,"require"],[23,35,10,73],[23,36,10,73,"_dependencyMap"],[23,50,10,73],[24,2,21,0],[24,8,21,6,"AuthContext"],[24,19,21,17],[24,35,21,20],[24,39,21,20,"createContext"],[24,45,21,33],[24,46,21,33,"createContext"],[24,59,21,33],[24,61,21,63,"undefined"],[24,70,21,72],[24,71,21,73],[25,2,23,7],[25,8,23,13,"AuthProvider"],[25,20,23,66],[25,23,23,69,"AuthProvider"],[25,24,23,70],[26,4,23,72,"children"],[27,2,23,81],[27,3,23,82],[27,8,23,87],[28,4,24,2],[28,10,24,8],[28,11,24,9,"user"],[28,15,24,13],[28,17,24,15,"setUser"],[28,24,24,22],[28,25,24,23],[28,28,24,26],[28,32,24,26,"useState"],[28,38,24,34],[28,39,24,34,"useState"],[28,47,24,34],[28,49,24,48],[28,53,24,52],[28,54,24,53],[29,4,25,2],[29,10,25,8],[29,11,25,9,"profile"],[29,18,25,16],[29,20,25,18,"setProfile"],[29,30,25,28],[29,31,25,29],[29,34,25,32],[29,38,25,32,"useState"],[29,44,25,40],[29,45,25,40,"useState"],[29,53,25,40],[29,55,25,61],[29,59,25,65],[29,60,25,66],[30,4,26,2],[30,10,26,8],[30,11,26,9,"loading"],[30,18,26,16],[30,20,26,18,"setLoading"],[30,30,26,28],[30,31,26,29],[30,34,26,32],[30,38,26,32,"useState"],[30,44,26,40],[30,45,26,40,"useState"],[30,53,26,40],[30,55,26,41],[30,59,26,45],[30,60,26,46],[31,4,28,2],[31,8,28,2,"useEffect"],[31,14,28,11],[31,15,28,11,"useEffect"],[31,24,28,11],[31,26,28,12],[31,32,28,18],[32,6,29,4],[33,6,30,4],[33,12,30,10,"initialize"],[33,22,30,20],[33,25,30,23],[33,31,30,23,"initialize"],[33,32,30,23],[33,37,30,35],[34,8,31,6],[34,14,31,12],[34,18,31,12,"seedSuperAdmin"],[34,38,31,26],[34,39,31,26,"seedSuperAdmin"],[34,53,31,26],[34,55,31,27],[34,56,31,28],[35,8,32,6],[35,14,32,12],[35,18,32,12,"initializeDefaultSettings"],[35,42,32,37],[35,43,32,37,"initializeDefaultSettings"],[35,68,32,37],[35,70,32,38],[35,71,32,39],[36,6,33,4],[36,7,33,5],[37,6,34,4,"initialize"],[37,16,34,14],[37,17,34,15],[37,18,34,16],[39,6,36,4],[40,6,37,4],[40,12,37,10,"unsubscribe"],[40,23,37,21],[40,26,37,24],[40,30,37,24,"onAuthChange"],[40,50,37,36],[40,51,37,36,"onAuthChange"],[40,63,37,36],[40,65,37,37],[40,71,37,44,"firebaseUser"],[40,83,37,56],[40,87,37,61],[41,8,38,6,"setUser"],[41,15,38,13],[41,16,38,14,"firebaseUser"],[41,28,38,26],[41,29,38,27],[42,8,40,6],[42,12,40,10,"firebaseUser"],[42,24,40,22],[42,26,40,24],[43,10,41,8],[44,10,42,8],[44,16,42,14,"userProfile"],[44,27,42,25],[44,30,42,28],[44,36,42,34],[44,40,42,34,"getCurrentUserProfile"],[44,60,42,55],[44,61,42,55,"getCurrentUserProfile"],[44,82,42,55],[44,84,42,56,"firebaseUser"],[44,96,42,68],[44,97,42,69,"uid"],[44,100,42,72],[44,101,42,73],[45,10,43,8,"setProfile"],[45,20,43,18],[45,21,43,19,"userProfile"],[45,32,43,30],[45,33,43,31],[46,8,44,6],[46,9,44,7],[46,15,44,13],[47,10,45,8,"setProfile"],[47,20,45,18],[47,21,45,19],[47,25,45,23],[47,26,45,24],[48,8,46,6],[49,8,48,6,"setLoading"],[49,18,48,16],[49,19,48,17],[49,24,48,22],[49,25,48,23],[50,6,49,4],[50,7,49,5],[50,8,49,6],[51,6,51,4],[51,13,51,11],[51,19,51,17,"unsubscribe"],[51,30,51,28],[51,31,51,29],[51,32,51,30],[52,4,52,2],[52,5,52,3],[52,7,52,5],[52,9,52,7],[52,10,52,8],[53,4,54,2],[53,10,54,8,"login"],[53,15,54,13],[53,18,54,16],[53,24,54,16,"login"],[53,25,54,23,"email"],[53,30,54,36],[53,32,54,38,"password"],[53,40,54,54],[53,45,54,59],[54,6,55,4],[54,10,55,8],[55,8,56,6],[55,14,56,12],[56,10,56,14,"user"],[56,14,56,18],[56,16,56,20,"firebaseUser"],[56,28,56,32],[57,10,56,34,"profile"],[57,17,56,41],[57,19,56,43,"userProfile"],[58,8,56,55],[58,9,56,56],[58,12,56,59],[58,18,56,65],[58,22,56,65,"loginUser"],[58,42,56,74],[58,43,56,74,"loginUser"],[58,52,56,74],[58,54,56,75,"email"],[58,59,56,80],[58,61,56,82,"password"],[58,69,56,90],[58,70,56,91],[59,8,57,6,"setUser"],[59,15,57,13],[59,16,57,14,"firebaseUser"],[59,28,57,26],[59,29,57,27],[60,8,58,6,"setProfile"],[60,18,58,16],[60,19,58,17,"userProfile"],[60,30,58,28],[60,31,58,29],[61,6,59,4],[61,7,59,5],[61,8,59,6],[61,15,59,13,"error"],[61,20,59,23],[61,22,59,25],[62,8,60,6],[62,14,60,12],[62,18,60,16,"Error"],[62,23,60,21],[62,24,60,22,"error"],[62,29,60,27],[62,30,60,28,"message"],[62,37,60,35],[62,38,60,36],[63,6,61,4],[64,4,62,2],[64,5,62,3],[65,4,64,2],[65,10,64,8,"logout"],[65,16,64,14],[65,19,64,17],[65,25,64,17,"logout"],[65,26,64,17],[65,31,64,29],[66,6,65,4],[66,12,65,10],[66,16,65,10,"logoutUser"],[66,36,65,20],[66,37,65,20,"logoutUser"],[66,47,65,20],[66,49,65,21],[66,50,65,22],[67,6,66,4,"setUser"],[67,13,66,11],[67,14,66,12],[67,18,66,16],[67,19,66,17],[68,6,67,4,"setProfile"],[68,16,67,14],[68,17,67,15],[68,21,67,19],[68,22,67,20],[69,4,68,2],[69,5,68,3],[70,4,70,2],[70,24,71,4],[70,28,71,4,"_reactJsxDevRuntime"],[70,47,71,4],[70,48,71,4,"jsxDEV"],[70,54,71,4],[70,56,71,5,"AuthContext"],[70,67,71,16],[70,68,71,17,"Provider"],[70,76,71,25],[71,6,71,26,"value"],[71,11,71,31],[71,13,71,33],[72,8,71,35,"user"],[72,12,71,39],[73,8,71,41,"profile"],[73,15,71,48],[74,8,71,50,"loading"],[74,15,71,57],[75,8,71,59,"login"],[75,13,71,64],[76,8,71,66,"logout"],[77,6,71,73],[77,7,71,75],[78,6,71,75,"children"],[78,14,71,75],[78,16,72,7,"children"],[79,4,72,15],[80,6,72,15,"fileName"],[80,14,72,15],[80,16,72,15,"_jsxFileName"],[80,28,72,15],[81,6,72,15,"lineNumber"],[81,16,72,15],[82,6,72,15,"columnNumber"],[82,18,72,15],[83,4,72,15],[83,11,73,26],[83,12,73,27],[84,2,75,0],[84,3,75,1],[85,2,77,7],[85,8,77,13,"useAuth"],[85,15,77,20],[85,18,77,23,"useAuth"],[85,19,77,23],[85,24,77,29],[86,4,78,2],[86,10,78,8,"context"],[86,17,78,15],[86,20,78,18],[86,24,78,18,"useContext"],[86,30,78,28],[86,31,78,28,"useContext"],[86,41,78,28],[86,43,78,29,"AuthContext"],[86,54,78,40],[86,55,78,41],[87,4,79,2],[87,8,79,6,"context"],[87,15,79,13],[87,20,79,18,"undefined"],[87,29,79,27],[87,31,79,29],[88,6,80,4],[88,12,80,10],[88,16,80,14,"Error"],[88,21,80,19],[88,22,80,20],[88,67,80,65],[88,68,80,66],[89,4,81,2],[90,4,82,2],[90,11,82,9,"context"],[90,18,82,16],[91,2,83,0],[91,3,83,1],[92,0,83,2],[92,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","initialize","onAuthChange$argument_0","<anonymous>","login","logout","useAuth"],"mappings":"AAA;qECsB;YCK;uBCE;KDG;qCEI;KFY;WGE,mBH;GDC;gBKE;GLQ;iBME;GNI;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}