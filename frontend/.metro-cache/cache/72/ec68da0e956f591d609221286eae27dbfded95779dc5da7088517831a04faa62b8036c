{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":176},"end":{"line":4,"column":39,"index":215}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[4], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const BACKEND_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || '';\n  const API_URL = `${BACKEND_URL}/api`;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    const checkAuth = async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('authToken');\n        if (token) {\n          const response = await axios.default.get(`${API_URL}/auth/me`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setUser(response.data);\n        }\n      } catch (error) {\n        await AsyncStorage.default.removeItem('authToken');\n        setUser(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    (0, _react.useEffect)(() => {\n      checkAuth();\n    }, []);\n    const login = async (email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/login`, {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('authToken', access_token);\n        setUser(userData);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('authToken');\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        logout,\n        checkAuth\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":114,"map":[[15,2,24,0,"Object"],[15,8,24,0],[15,9,24,0,"defineProperty"],[15,23,24,0],[15,24,24,0,"exports"],[15,31,24,0],[16,4,24,0,"enumerable"],[16,14,24,0],[17,4,24,0,"get"],[17,7,24,0],[17,18,24,0,"get"],[17,19,24,0],[18,6,24,0],[18,13,24,0,"AuthProvider"],[18,25,24,0],[19,4,24,0],[20,2,24,0],[21,2,75,0,"Object"],[21,8,75,0],[21,9,75,0,"defineProperty"],[21,23,75,0],[21,24,75,0,"exports"],[21,31,75,0],[22,4,75,0,"enumerable"],[22,14,75,0],[23,4,75,0,"get"],[23,7,75,0],[23,18,75,0,"get"],[23,19,75,0],[24,6,75,0],[24,13,75,0,"useAuth"],[24,20,75,0],[25,4,75,0],[26,2,75,0],[27,2,81,2],[27,6,81,2,"_expoVirtualEnv"],[27,21,81,2],[27,24,81,2,"require"],[27,31,81,2],[27,32,81,2,"_dependencyMap"],[27,46,81,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,4,0],[33,6,4,0,"_expoConstants"],[33,20,4,0],[33,23,4,0,"require"],[33,30,4,0],[33,31,4,0,"_dependencyMap"],[33,45,4,0],[34,2,4,0],[34,6,4,0,"Constants"],[34,15,4,0],[34,18,4,0,"_interopDefault"],[34,33,4,0],[34,34,4,0,"_expoConstants"],[34,48,4,0],[35,2,4,39],[35,6,4,39,"_reactJsxDevRuntime"],[35,25,4,39],[35,28,4,39,"require"],[35,35,4,39],[35,36,4,39,"_dependencyMap"],[35,50,4,39],[36,2,6,0],[36,8,6,6,"BACKEND_URL"],[36,19,6,17],[36,22,6,20,"Constants"],[36,31,6,29],[36,32,6,29,"default"],[36,39,6,29],[36,40,6,30,"expoConfig"],[36,50,6,40],[36,52,6,42,"extra"],[36,57,6,47],[36,59,6,49,"EXPO_PUBLIC_BACKEND_URL"],[36,82,6,72],[36,86,6,72,"_expoVirtualEnv"],[36,101,6,72],[36,102,6,72,"env"],[36,105,6,72],[36,106,6,72,"EXPO_PUBLIC_BACKEND_URL"],[36,129,6,111],[36,133,6,115],[36,135,6,117],[37,2,7,0],[37,8,7,6,"API_URL"],[37,15,7,13],[37,18,7,16],[37,21,7,19,"BACKEND_URL"],[37,32,7,30],[37,38,7,36],[38,2,22,0],[38,8,22,6,"AuthContext"],[38,19,22,17],[38,35,22,20],[38,39,22,20,"createContext"],[38,45,22,33],[38,46,22,33,"createContext"],[38,59,22,33],[38,61,22,63,"undefined"],[38,70,22,72],[38,71,22,73],[39,2,24,7],[39,8,24,13,"AuthProvider"],[39,20,24,66],[39,23,24,69,"AuthProvider"],[39,24,24,70],[40,4,24,72,"children"],[41,2,24,81],[41,3,24,82],[41,8,24,87],[42,4,24,87,"_s"],[42,6,24,87],[43,4,25,2],[43,10,25,8],[43,11,25,9,"user"],[43,15,25,13],[43,17,25,15,"setUser"],[43,24,25,22],[43,25,25,23],[43,28,25,26],[43,32,25,26,"useState"],[43,38,25,34],[43,39,25,34,"useState"],[43,47,25,34],[43,49,25,48],[43,53,25,52],[43,54,25,53],[44,4,26,2],[44,10,26,8],[44,11,26,9,"loading"],[44,18,26,16],[44,20,26,18,"setLoading"],[44,30,26,28],[44,31,26,29],[44,34,26,32],[44,38,26,32,"useState"],[44,44,26,40],[44,45,26,40,"useState"],[44,53,26,40],[44,55,26,41],[44,59,26,45],[44,60,26,46],[45,4,28,2],[45,10,28,8,"checkAuth"],[45,19,28,17],[45,22,28,20],[45,28,28,20,"checkAuth"],[45,29,28,20],[45,34,28,32],[46,6,29,4],[46,10,29,8],[47,8,30,6],[47,14,30,12,"token"],[47,19,30,17],[47,22,30,20],[47,28,30,26,"AsyncStorage"],[47,40,30,38],[47,41,30,38,"default"],[47,48,30,38],[47,49,30,39,"getItem"],[47,56,30,46],[47,57,30,47],[47,68,30,58],[47,69,30,59],[48,8,31,6],[48,12,31,10,"token"],[48,17,31,15],[48,19,31,17],[49,10,32,8],[49,16,32,14,"response"],[49,24,32,22],[49,27,32,25],[49,33,32,31,"axios"],[49,38,32,36],[49,39,32,36,"default"],[49,46,32,36],[49,47,32,37,"get"],[49,50,32,40],[49,51,32,41],[49,54,32,44,"API_URL"],[49,61,32,51],[49,71,32,61],[49,73,32,63],[50,12,33,10,"headers"],[50,19,33,17],[50,21,33,19],[51,14,33,21,"Authorization"],[51,27,33,34],[51,29,33,36],[51,39,33,46,"token"],[51,44,33,51],[52,12,33,54],[53,10,34,8],[53,11,34,9],[53,12,34,10],[54,10,35,8,"setUser"],[54,17,35,15],[54,18,35,16,"response"],[54,26,35,24],[54,27,35,25,"data"],[54,31,35,29],[54,32,35,30],[55,8,36,6],[56,6,37,4],[56,7,37,5],[56,8,37,6],[56,15,37,13,"error"],[56,20,37,18],[56,22,37,20],[57,8,38,6],[57,14,38,12,"AsyncStorage"],[57,26,38,24],[57,27,38,24,"default"],[57,34,38,24],[57,35,38,25,"removeItem"],[57,45,38,35],[57,46,38,36],[57,57,38,47],[57,58,38,48],[58,8,39,6,"setUser"],[58,15,39,13],[58,16,39,14],[58,20,39,18],[58,21,39,19],[59,6,40,4],[59,7,40,5],[59,16,40,14],[60,8,41,6,"setLoading"],[60,18,41,16],[60,19,41,17],[60,24,41,22],[60,25,41,23],[61,6,42,4],[62,4,43,2],[62,5,43,3],[63,4,45,2],[63,8,45,2,"useEffect"],[63,14,45,11],[63,15,45,11,"useEffect"],[63,24,45,11],[63,26,45,12],[63,32,45,18],[64,6,46,4,"checkAuth"],[64,15,46,13],[64,16,46,14],[64,17,46,15],[65,4,47,2],[65,5,47,3],[65,7,47,5],[65,9,47,7],[65,10,47,8],[66,4,49,2],[66,10,49,8,"login"],[66,15,49,13],[66,18,49,16],[66,24,49,16,"login"],[66,25,49,23,"email"],[66,30,49,36],[66,32,49,38,"password"],[66,40,49,54],[66,45,49,59],[67,6,50,4],[67,10,50,8],[68,8,51,6],[68,14,51,12,"response"],[68,22,51,20],[68,25,51,23],[68,31,51,29,"axios"],[68,36,51,34],[68,37,51,34,"default"],[68,44,51,34],[68,45,51,35,"post"],[68,49,51,39],[68,50,51,40],[68,53,51,43,"API_URL"],[68,60,51,50],[68,73,51,63],[68,75,51,65],[69,10,52,8,"email"],[69,15,52,13],[70,10,53,8,"password"],[71,8,54,6],[71,9,54,7],[71,10,54,8],[72,8,55,6],[72,14,55,12],[73,10,55,14,"access_token"],[73,22,55,26],[74,10,55,28,"user"],[74,14,55,32],[74,16,55,34,"userData"],[75,8,55,43],[75,9,55,44],[75,12,55,47,"response"],[75,20,55,55],[75,21,55,56,"data"],[75,25,55,60],[76,8,56,6],[76,14,56,12,"AsyncStorage"],[76,26,56,24],[76,27,56,24,"default"],[76,34,56,24],[76,35,56,25,"setItem"],[76,42,56,32],[76,43,56,33],[76,54,56,44],[76,56,56,46,"access_token"],[76,68,56,58],[76,69,56,59],[77,8,57,6,"setUser"],[77,15,57,13],[77,16,57,14,"userData"],[77,24,57,22],[77,25,57,23],[78,6,58,4],[78,7,58,5],[78,8,58,6],[78,15,58,13,"error"],[78,20,58,23],[78,22,58,25],[79,8,59,6],[79,14,59,12],[79,18,59,16,"Error"],[79,23,59,21],[79,24,59,22,"error"],[79,29,59,27],[79,30,59,28,"response"],[79,38,59,36],[79,40,59,38,"data"],[79,44,59,42],[79,46,59,44,"detail"],[79,52,59,50],[79,56,59,54],[79,70,59,68],[79,71,59,69],[80,6,60,4],[81,4,61,2],[81,5,61,3],[82,4,63,2],[82,10,63,8,"logout"],[82,16,63,14],[82,19,63,17],[82,25,63,17,"logout"],[82,26,63,17],[82,31,63,29],[83,6,64,4],[83,12,64,10,"AsyncStorage"],[83,24,64,22],[83,25,64,22,"default"],[83,32,64,22],[83,33,64,23,"removeItem"],[83,43,64,33],[83,44,64,34],[83,55,64,45],[83,56,64,46],[84,6,65,4,"setUser"],[84,13,65,11],[84,14,65,12],[84,18,65,16],[84,19,65,17],[85,4,66,2],[85,5,66,3],[86,4,68,2],[86,24,69,4],[86,28,69,4,"_reactJsxDevRuntime"],[86,47,69,4],[86,48,69,4,"jsxDEV"],[86,54,69,4],[86,56,69,5,"AuthContext"],[86,67,69,16],[86,68,69,17,"Provider"],[86,76,69,25],[87,6,69,26,"value"],[87,11,69,31],[87,13,69,33],[88,8,69,35,"user"],[88,12,69,39],[89,8,69,41,"loading"],[89,15,69,48],[90,8,69,50,"login"],[90,13,69,55],[91,8,69,57,"logout"],[91,14,69,63],[92,8,69,65,"checkAuth"],[93,6,69,75],[93,7,69,77],[94,6,69,77,"children"],[94,14,69,77],[94,16,70,7,"children"],[95,4,70,15],[96,6,70,15,"fileName"],[96,14,70,15],[96,16,70,15,"_jsxFileName"],[96,28,70,15],[97,6,70,15,"lineNumber"],[97,16,70,15],[98,6,70,15,"columnNumber"],[98,18,70,15],[99,4,70,15],[99,11,71,26],[99,12,71,27],[100,2,73,0],[100,3,73,1],[101,2,73,2,"_s"],[101,4,73,2],[101,5,24,13,"AuthProvider"],[101,17,24,66],[102,2,24,66,"_c"],[102,4,24,66],[102,7,24,13,"AuthProvider"],[102,19,24,66],[103,2,75,7],[103,8,75,13,"useAuth"],[103,15,75,20],[103,18,75,23,"useAuth"],[103,19,75,23],[103,24,75,29],[104,4,75,29,"_s2"],[104,7,75,29],[105,4,76,2],[105,10,76,8,"context"],[105,17,76,15],[105,20,76,18],[105,24,76,18,"useContext"],[105,30,76,28],[105,31,76,28,"useContext"],[105,41,76,28],[105,43,76,29,"AuthContext"],[105,54,76,40],[105,55,76,41],[106,4,77,2],[106,8,77,6,"context"],[106,15,77,13],[106,20,77,18,"undefined"],[106,29,77,27],[106,31,77,29],[107,6,78,4],[107,12,78,10],[107,16,78,14,"Error"],[107,21,78,19],[107,22,78,20],[107,67,78,65],[107,68,78,66],[108,4,79,2],[109,4,80,2],[109,11,80,9,"context"],[109,18,80,16],[110,2,81,0],[110,3,81,1],[111,2,81,2,"_s2"],[111,5,81,2],[111,6,75,13,"useAuth"],[111,13,75,20],[112,2,75,20],[112,6,75,20,"_c"],[112,8,75,20],[113,2,75,20,"$RefreshReg$"],[113,14,75,20],[113,15,75,20,"_c"],[113,17,75,20],[114,0,75,20],[114,3]],"functionMap":{"names":["<global>","AuthProvider","checkAuth","useEffect$argument_0","login","logout","useAuth"],"mappings":"AAA;qECuB;oBCI;GDe;YEE;GFE;gBGE;GHY;iBIE;GJG;CDO;uBME;CNM"},"hasCjsExports":false},"type":"js/module"}]}