{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../services/auth.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":117},"end":{"line":9,"column":34,"index":248}}],"key":"OAwOj13pryMi7HegghVkxChHnhI=","exportNames":["*"],"imports":1}},{"name":"../services/settings.service","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":249},"end":{"line":10,"column":73,"index":322}}],"key":"l52DiK/+XfVBCgvT7uoYSepygT8=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _servicesAuthService = require(_dependencyMap[1], \"../services/auth.service\");\n  var _servicesSettingsService = require(_dependencyMap[2], \"../services/settings.service\");\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [profile, setProfile] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      // Initialize Firebase data\n      const initialize = async () => {\n        await (0, _servicesAuthService.seedSuperAdmin)();\n        await (0, _servicesSettingsService.initializeDefaultSettings)();\n      };\n      initialize();\n\n      // Listen to auth state changes\n      const unsubscribe = (0, _servicesAuthService.onAuthChange)(async firebaseUser => {\n        setUser(firebaseUser);\n        if (firebaseUser) {\n          // Get user profile from Firestore\n          const userProfile = await (0, _servicesAuthService.getCurrentUserProfile)(firebaseUser.uid);\n          setProfile(userProfile);\n        } else {\n          setProfile(null);\n        }\n        setLoading(false);\n      });\n      return () => unsubscribe();\n    }, []);\n    const login = async (email, password) => {\n      try {\n        const {\n          user: firebaseUser,\n          profile: userProfile\n        } = await (0, _servicesAuthService.loginUser)(email, password);\n        setUser(firebaseUser);\n        setProfile(userProfile);\n      } catch (error) {\n        throw new Error(error.message);\n      }\n    };\n    const logout = async () => {\n      await (0, _servicesAuthService.logoutUser)();\n      setUser(null);\n      setProfile(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        profile,\n        loading,\n        login,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"DYSpA4ZauWKW8e4CNkO4ayA+RbM=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":101,"map":[[10,2,23,0,"Object"],[10,8,23,0],[10,9,23,0,"defineProperty"],[10,23,23,0],[10,24,23,0,"exports"],[10,31,23,0],[11,4,23,0,"enumerable"],[11,14,23,0],[12,4,23,0,"get"],[12,7,23,0],[12,18,23,0,"get"],[12,19,23,0],[13,6,23,0],[13,13,23,0,"AuthProvider"],[13,25,23,0],[14,4,23,0],[15,2,23,0],[16,2,77,0,"Object"],[16,8,77,0],[16,9,77,0,"defineProperty"],[16,23,77,0],[16,24,77,0,"exports"],[16,31,77,0],[17,4,77,0,"enumerable"],[17,14,77,0],[18,4,77,0,"get"],[18,7,77,0],[18,18,77,0,"get"],[18,19,77,0],[19,6,77,0],[19,13,77,0,"useAuth"],[19,20,77,0],[20,4,77,0],[21,2,77,0],[22,2,1,0],[22,6,1,0,"_react"],[22,12,1,0],[22,15,1,0,"require"],[22,22,1,0],[22,23,1,0,"_dependencyMap"],[22,37,1,0],[23,2,3,0],[23,6,3,0,"_servicesAuthService"],[23,26,3,0],[23,29,3,0,"require"],[23,36,3,0],[23,37,3,0,"_dependencyMap"],[23,51,3,0],[24,2,10,0],[24,6,10,0,"_servicesSettingsService"],[24,30,10,0],[24,33,10,0,"require"],[24,40,10,0],[24,41,10,0,"_dependencyMap"],[24,55,10,0],[25,2,10,73],[25,6,10,73,"_reactJsxDevRuntime"],[25,25,10,73],[25,28,10,73,"require"],[25,35,10,73],[25,36,10,73,"_dependencyMap"],[25,50,10,73],[26,2,21,0],[26,8,21,6,"AuthContext"],[26,19,21,17],[26,35,21,20],[26,39,21,20,"createContext"],[26,45,21,33],[26,46,21,33,"createContext"],[26,59,21,33],[26,61,21,63,"undefined"],[26,70,21,72],[26,71,21,73],[27,2,23,7],[27,8,23,13,"AuthProvider"],[27,20,23,66],[27,23,23,69,"AuthProvider"],[27,24,23,70],[28,4,23,72,"children"],[29,2,23,81],[29,3,23,82],[29,8,23,87],[30,4,23,87,"_s"],[30,6,23,87],[31,4,24,2],[31,10,24,8],[31,11,24,9,"user"],[31,15,24,13],[31,17,24,15,"setUser"],[31,24,24,22],[31,25,24,23],[31,28,24,26],[31,32,24,26,"useState"],[31,38,24,34],[31,39,24,34,"useState"],[31,47,24,34],[31,49,24,48],[31,53,24,52],[31,54,24,53],[32,4,25,2],[32,10,25,8],[32,11,25,9,"profile"],[32,18,25,16],[32,20,25,18,"setProfile"],[32,30,25,28],[32,31,25,29],[32,34,25,32],[32,38,25,32,"useState"],[32,44,25,40],[32,45,25,40,"useState"],[32,53,25,40],[32,55,25,61],[32,59,25,65],[32,60,25,66],[33,4,26,2],[33,10,26,8],[33,11,26,9,"loading"],[33,18,26,16],[33,20,26,18,"setLoading"],[33,30,26,28],[33,31,26,29],[33,34,26,32],[33,38,26,32,"useState"],[33,44,26,40],[33,45,26,40,"useState"],[33,53,26,40],[33,55,26,41],[33,59,26,45],[33,60,26,46],[34,4,28,2],[34,8,28,2,"useEffect"],[34,14,28,11],[34,15,28,11,"useEffect"],[34,24,28,11],[34,26,28,12],[34,32,28,18],[35,6,29,4],[36,6,30,4],[36,12,30,10,"initialize"],[36,22,30,20],[36,25,30,23],[36,31,30,23,"initialize"],[36,32,30,23],[36,37,30,35],[37,8,31,6],[37,14,31,12],[37,18,31,12,"seedSuperAdmin"],[37,38,31,26],[37,39,31,26,"seedSuperAdmin"],[37,53,31,26],[37,55,31,27],[37,56,31,28],[38,8,32,6],[38,14,32,12],[38,18,32,12,"initializeDefaultSettings"],[38,42,32,37],[38,43,32,37,"initializeDefaultSettings"],[38,68,32,37],[38,70,32,38],[38,71,32,39],[39,6,33,4],[39,7,33,5],[40,6,34,4,"initialize"],[40,16,34,14],[40,17,34,15],[40,18,34,16],[42,6,36,4],[43,6,37,4],[43,12,37,10,"unsubscribe"],[43,23,37,21],[43,26,37,24],[43,30,37,24,"onAuthChange"],[43,50,37,36],[43,51,37,36,"onAuthChange"],[43,63,37,36],[43,65,37,37],[43,71,37,44,"firebaseUser"],[43,83,37,56],[43,87,37,61],[44,8,38,6,"setUser"],[44,15,38,13],[44,16,38,14,"firebaseUser"],[44,28,38,26],[44,29,38,27],[45,8,40,6],[45,12,40,10,"firebaseUser"],[45,24,40,22],[45,26,40,24],[46,10,41,8],[47,10,42,8],[47,16,42,14,"userProfile"],[47,27,42,25],[47,30,42,28],[47,36,42,34],[47,40,42,34,"getCurrentUserProfile"],[47,60,42,55],[47,61,42,55,"getCurrentUserProfile"],[47,82,42,55],[47,84,42,56,"firebaseUser"],[47,96,42,68],[47,97,42,69,"uid"],[47,100,42,72],[47,101,42,73],[48,10,43,8,"setProfile"],[48,20,43,18],[48,21,43,19,"userProfile"],[48,32,43,30],[48,33,43,31],[49,8,44,6],[49,9,44,7],[49,15,44,13],[50,10,45,8,"setProfile"],[50,20,45,18],[50,21,45,19],[50,25,45,23],[50,26,45,24],[51,8,46,6],[52,8,48,6,"setLoading"],[52,18,48,16],[52,19,48,17],[52,24,48,22],[52,25,48,23],[53,6,49,4],[53,7,49,5],[53,8,49,6],[54,6,51,4],[54,13,51,11],[54,19,51,17,"unsubscribe"],[54,30,51,28],[54,31,51,29],[54,32,51,30],[55,4,52,2],[55,5,52,3],[55,7,52,5],[55,9,52,7],[55,10,52,8],[56,4,54,2],[56,10,54,8,"login"],[56,15,54,13],[56,18,54,16],[56,24,54,16,"login"],[56,25,54,23,"email"],[56,30,54,36],[56,32,54,38,"password"],[56,40,54,54],[56,45,54,59],[57,6,55,4],[57,10,55,8],[58,8,56,6],[58,14,56,12],[59,10,56,14,"user"],[59,14,56,18],[59,16,56,20,"firebaseUser"],[59,28,56,32],[60,10,56,34,"profile"],[60,17,56,41],[60,19,56,43,"userProfile"],[61,8,56,55],[61,9,56,56],[61,12,56,59],[61,18,56,65],[61,22,56,65,"loginUser"],[61,42,56,74],[61,43,56,74,"loginUser"],[61,52,56,74],[61,54,56,75,"email"],[61,59,56,80],[61,61,56,82,"password"],[61,69,56,90],[61,70,56,91],[62,8,57,6,"setUser"],[62,15,57,13],[62,16,57,14,"firebaseUser"],[62,28,57,26],[62,29,57,27],[63,8,58,6,"setProfile"],[63,18,58,16],[63,19,58,17,"userProfile"],[63,30,58,28],[63,31,58,29],[64,6,59,4],[64,7,59,5],[64,8,59,6],[64,15,59,13,"error"],[64,20,59,23],[64,22,59,25],[65,8,60,6],[65,14,60,12],[65,18,60,16,"Error"],[65,23,60,21],[65,24,60,22,"error"],[65,29,60,27],[65,30,60,28,"message"],[65,37,60,35],[65,38,60,36],[66,6,61,4],[67,4,62,2],[67,5,62,3],[68,4,64,2],[68,10,64,8,"logout"],[68,16,64,14],[68,19,64,17],[68,25,64,17,"logout"],[68,26,64,17],[68,31,64,29],[69,6,65,4],[69,12,65,10],[69,16,65,10,"logoutUser"],[69,36,65,20],[69,37,65,20,"logoutUser"],[69,47,65,20],[69,49,65,21],[69,50,65,22],[70,6,66,4,"setUser"],[70,13,66,11],[70,14,66,12],[70,18,66,16],[70,19,66,17],[71,6,67,4,"setProfile"],[71,16,67,14],[71,17,67,15],[71,21,67,19],[71,22,67,20],[72,4,68,2],[72,5,68,3],[73,4,70,2],[73,24,71,4],[73,28,71,4,"_reactJsxDevRuntime"],[73,47,71,4],[73,48,71,4,"jsxDEV"],[73,54,71,4],[73,56,71,5,"AuthContext"],[73,67,71,16],[73,68,71,17,"Provider"],[73,76,71,25],[74,6,71,26,"value"],[74,11,71,31],[74,13,71,33],[75,8,71,35,"user"],[75,12,71,39],[76,8,71,41,"profile"],[76,15,71,48],[77,8,71,50,"loading"],[77,15,71,57],[78,8,71,59,"login"],[78,13,71,64],[79,8,71,66,"logout"],[80,6,71,73],[80,7,71,75],[81,6,71,75,"children"],[81,14,71,75],[81,16,72,7,"children"],[82,4,72,15],[83,6,72,15,"fileName"],[83,14,72,15],[83,16,72,15,"_jsxFileName"],[83,28,72,15],[84,6,72,15,"lineNumber"],[84,16,72,15],[85,6,72,15,"columnNumber"],[85,18,72,15],[86,4,72,15],[86,11,73,26],[86,12,73,27],[87,2,75,0],[87,3,75,1],[88,2,75,2,"_s"],[88,4,75,2],[88,5,23,13,"AuthProvider"],[88,17,23,66],[89,2,23,66,"_c"],[89,4,23,66],[89,7,23,13,"AuthProvider"],[89,19,23,66],[90,2,77,7],[90,8,77,13,"useAuth"],[90,15,77,20],[90,18,77,23,"useAuth"],[90,19,77,23],[90,24,77,29],[91,4,77,29,"_s2"],[91,7,77,29],[92,4,78,2],[92,10,78,8,"context"],[92,17,78,15],[92,20,78,18],[92,24,78,18,"useContext"],[92,30,78,28],[92,31,78,28,"useContext"],[92,41,78,28],[92,43,78,29,"AuthContext"],[92,54,78,40],[92,55,78,41],[93,4,79,2],[93,8,79,6,"context"],[93,15,79,13],[93,20,79,18,"undefined"],[93,29,79,27],[93,31,79,29],[94,6,80,4],[94,12,80,10],[94,16,80,14,"Error"],[94,21,80,19],[94,22,80,20],[94,67,80,65],[94,68,80,66],[95,4,81,2],[96,4,82,2],[96,11,82,9,"context"],[96,18,82,16],[97,2,83,0],[97,3,83,1],[98,2,83,2,"_s2"],[98,5,83,2],[98,6,77,13,"useAuth"],[98,13,77,20],[99,2,77,20],[99,6,77,20,"_c"],[99,8,77,20],[100,2,77,20,"$RefreshReg$"],[100,14,77,20],[100,15,77,20,"_c"],[100,17,77,20],[101,0,77,20],[101,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","initialize","onAuthChange$argument_0","<anonymous>","login","logout","useAuth"],"mappings":"AAA;qECsB;YCK;uBCE;KDG;qCEI;KFY;WGE,mBH;GDC;gBKE;GLQ;iBME;GNI;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}